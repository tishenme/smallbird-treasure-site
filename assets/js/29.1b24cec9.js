(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{305:function(t,v,_){"use strict";_.r(v);var e=_(10),a=Object(e.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"入坑-git-看这一篇就够了-掘金"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#入坑-git-看这一篇就够了-掘金"}},[t._v("#")]),t._v(" 入坑 Git，看这一篇就够了 - 掘金")]),t._v(" "),v("hr"),t._v(" "),v("ul",[v("li",[t._v("入坑 Git，看这一篇就够了 - 掘金")]),t._v(" "),v("li",[v("a",{attrs:{href:"https://juejin.cn/post/7289661061993005093",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.cn/post/7289661061993005093"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("你可以不懂 Git 背后的实现原理，你可以不了解它所有的功能，但你一定要会用命令行，一定要知道除了 add、commit、push 之外的常用命令。听话，不要只会用 GUI。")]),t._v(" "),v("li",[t._v("2024-05-18 16:13:18")])]),t._v(" "),v("hr"),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/4de61001f0024234b992a5bd4c942698tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-ptbpehe.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"🎼-前言"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🎼-前言"}},[t._v("#")]),t._v(" 🎼 前言")]),t._v(" "),v("p",[t._v("最近在网上刷到了电视剧中「神级」伪程序员的骚操作，就是通过「秋秋」把代码发给老板，吐槽者就说：「天哪，这么弔的程序员（盲敲键盘、用 Word 写代码并且还能运行）居然不用 Git...」")]),t._v(" "),v("p",[t._v("现实中，没有程序员不用 Git 没错吧？但又有多少人只停留在只会 GUI 操作上？")]),t._v(" "),v("p",[t._v("本文将以作者对 Git 的浅薄了解，带你入坑 Git（断断续续连着写了一个月）。")]),t._v(" "),v("h2",{attrs:{id:"tl-dr"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tl-dr"}},[t._v("#")]),t._v(" TL;DR")]),t._v(" "),v("p",[t._v("你可以不懂 Git 背后的实现原理，你可以不了解它所有的功能，但你一定要会用命令行，一定要知道除了 "),v("code",[t._v("add")]),t._v("​、"),v("code",[t._v("commit")]),t._v("​、"),v("code",[t._v("push")]),t._v("​ 之外还有别的常用命令。")]),t._v(" "),v("h2",{attrs:{id:"主要内容"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#主要内容"}},[t._v("#")]),t._v(" 主要内容")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/f63f959f8eea4de3bf9e14626c4503cftplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-hrv3ooi.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"适合读者"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#适合读者"}},[t._v("#")]),t._v(" 适合读者")]),t._v(" "),v("ul",[v("li",[t._v("想要了解 Git 的新人")]),t._v(" "),v("li",[t._v("只会用 GUI 工具的同学")])]),t._v(" "),v("h2",{attrs:{id:"你将获得"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#你将获得"}},[t._v("#")]),t._v(" 你将获得")]),t._v(" "),v("ol",[v("li",[t._v("Git 的基本概念")]),t._v(" "),v("li",[t._v("Git 的安装与基本设置")]),t._v(" "),v("li",[t._v("Git 客户端（纯文本、GUI、系统集成、插件）")]),t._v(" "),v("li",[t._v("多用命令行，以及哪些常用命令，而不要强依赖 GUI（除了 Merge 推荐 JetBrains 之外）")]),t._v(" "),v("li",[t._v("一些小技巧")])]),t._v(" "),v("h2",{attrs:{id:"编辑历史"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#编辑历史"}},[t._v("#")]),t._v(" 编辑历史")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("日期")]),t._v(" "),v("th",[t._v("版本说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("2024/05/17")]),t._v(" "),v("td",[t._v("V2，新增《不常用，但很有用的技巧》章节")])]),t._v(" "),v("tr",[v("td",[t._v("2023/10/15")]),t._v(" "),v("td",[t._v("V1")])])])]),t._v(" "),v("h2",{attrs:{id:"🧬-git-简介"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🧬-git-简介"}},[t._v("#")]),t._v(" 🧬 Git 简介")]),t._v(" "),v("p",[v("a",{attrs:{href:"https://git-scm.com/",title:"https://git-scm.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),v("OutboundLink")],1),t._v(" 是 "),v("a",{attrs:{href:"https://baike.baidu.com/item/%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%9C%AC%E7%BA%B3%E7%AC%AC%E5%85%8B%E7%89%B9%C2%B7%E6%89%98%E7%93%A6%E5%85%B9/1034429",title:"https://baike.baidu.com/item/%E6%9E%97%E7%BA%B3%E6%96%AF%C2%B7%E6%9C%AC%E7%BA%B3%E7%AC%AC%E5%85%8B%E7%89%B9%C2%B7%E6%89%98%E7%93%A6%E5%85%B9/1034429",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linus Torvalds"),v("OutboundLink")],1),t._v(" 为了帮助管理 Linux 内核开发而开发的版本控制系统（Version Control System，以下简称 VCS），和传统集中式如 CVS、SVN 不同，Git 的特点是分布式，不一不必依赖远程服务器。")]),t._v(" "),v("h2",{attrs:{id:"三个主要功能"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三个主要功能"}},[t._v("#")]),t._v(" 三个主要功能")]),t._v(" "),v("p",[t._v("作为分布式版本控制系统，Git 的主要功能包括：")]),t._v(" "),v("ol",[v("li",[t._v("​"),v("strong",[t._v("版本控制")]),t._v("​：跟踪和管理代码的版本，方便开发人员对代码进行版本控制和回溯")]),t._v(" "),v("li",[t._v("​"),v("strong",[t._v("分支管理")]),t._v("​：开发人员可以在不同的分支上进行开发，并在需要时合并分支")]),t._v(" "),v("li",[t._v("​"),v("strong",[t._v("分布式协作")]),t._v("​：Git 特点是分布式加云端同步，方便开发者在不同设备上进行开发和协作")])]),t._v(" "),v("h2",{attrs:{id:"四个空间"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#四个空间"}},[t._v("#")]),t._v(" 四个空间")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/80d66021498245cebcb91c35b97d79e3tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-s6yrx87.awebp",alt:""}}),t._v("​")]),t._v(" "),v("ul",[v("li",[t._v("​"),v("strong",[t._v("Working Tree（工作区）")]),t._v(" ​：即文件目录，存放所有已跟踪、未跟踪、已提交、未提交的文件")]),t._v(" "),v("li",[t._v("​"),v("strong",[t._v("Index（暂存区，又叫 Stage）")]),t._v(" ​：存放临时（待提交）的改动，它实际上是一个二进制文件 "),v("code",[t._v(".git/index")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("strong",[t._v("Local Repository（本地仓库）")]),t._v(" ​：「临时」的安全数据存放区域")]),t._v(" "),v("li",[t._v("​"),v("strong",[t._v("Remote Repository（远程仓库）")]),t._v(" ​：真正安全的数据存放区域，托管代码的服务器，最著名的就是 "),v("a",{attrs:{href:"https://github.com/",title:"https://github.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),v("OutboundLink")],1),t._v("，公司都会自建服务器（多数用 GitLab），当然我们自己也可以自建服务器玩玩")])]),t._v(" "),v("p",[t._v("其中「本地仓库」是 Git 作为「分布式」版本控制软件的关键。")]),t._v(" "),v("h2",{attrs:{id:"四种文件状态"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#四种文件状态"}},[t._v("#")]),t._v(" 四种文件状态")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("状态")]),t._v(" "),v("th",[t._v("说明")]),t._v(" "),v("th",[t._v("图示")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("Untracked")]),t._v(" "),v("td",[t._v("新增的文件，仅存在于 Working Tree")]),t._v(" "),v("td",[t._v("​"),v("img",{attrs:{src:"assets/4fec56b16254493fb2de6c2e3e997280tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-1e2dxdo.awebp",alt:""}}),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("New file")]),t._v(" "),v("td",[t._v("Untracked 文件在"),v("code",[t._v("git add")]),t._v("​后的状态，待"),v("code",[t._v("git commit")]),t._v("​进入本地仓库，或"),v("code",[t._v("git restore --staged <file>")]),t._v("​重回 Untracked")]),t._v(" "),v("td",[t._v("​"),v("img",{attrs:{src:"assets/97ccb53651df44aeb22380b0a862de69tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-bx9atd1.awebp",alt:""}}),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("Modified")]),t._v(" "),v("td",[t._v("已登记在案（在本地仓库中或者在暂存库中）的文件最近又发生了改动")]),t._v(" "),v("td",[t._v("​"),v("img",{attrs:{src:"assets/e53aeda55aef4ca1a6a7725090768065tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-vostnrk.awebp",alt:""}}),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("Staged")]),t._v(" "),v("td",[t._v("已暂存，尚未提交，"),v("code",[t._v("git add")]),t._v("​后的文件状态，"),v("code",[t._v("git restore --staged <file>")]),t._v("​返回之前的状态")]),t._v(" "),v("td",[t._v("​"),v("img",{attrs:{src:"assets/9dd3ad96408c486082f9b24c3d1be831tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-zsue7is.awebp",alt:""}}),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("Committed")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git commit")]),t._v("​后的文件状态")]),t._v(" "),v("td",[t._v("​"),v("img",{attrs:{src:"assets/79729835aca948e6ba4acba29fe466eatplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-35emsz1.awebp",alt:""}}),t._v("​")])])])]),t._v(" "),v("p",[t._v("说明一下：")]),t._v(" "),v("ol",[v("li",[t._v("图示中表示状态的颜色，绿色表示「已暂存」，红色表示「未暂存」")]),t._v(" "),v("li",[t._v("图示中 Powerline 状态（来自 "),v("a",{attrs:{href:"https://github.com/romkatv/powerlevel10k#oh-my-zsh",title:"https://github.com/romkatv/powerlevel10k#oh-my-zsh",target:"_blank",rel:"noopener noreferrer"}},[t._v("powerlevel10k"),v("OutboundLink")],1),t._v("），"),v("code",[t._v("?")]),t._v("​ 表示 「Untracked 文件数」，"),v("code",[t._v("+")]),t._v("​ 表示「已暂存文件数」，"),v("code",[t._v("!")]),t._v("​ 表示「未暂文件数」")]),t._v(" "),v("li",[t._v("需要注意的是，「Untracked」一定「未暂存」，「New file」一定「已暂存」，「Modified」则有「已暂存的 Modified」和「未暂存的 Modified」两种（其实我认为可以把 Untracked 视为一种特殊的 New file 更好理解）")])]),t._v(" "),v("p",[t._v("另外，我没有找到 "),v("code",[t._v("git push")]),t._v("​ 之后文件的状态，难道是「remotely tracked」？但由于 Git 是一个分布式的 VCS，可能这就不是很重要吧。")]),t._v(" "),v("h2",{attrs:{id:"三个基本操作-三板斧"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三个基本操作-三板斧"}},[t._v("#")]),t._v(" 三个基本操作（三板斧）")]),t._v(" "),v("p",[t._v("上图同时也体现了 Git 几个工作区之间的状态流转所用到的关键命令，同集中式 CVS 的一次 commit 不同，Git 需要经历 "),v("code",[t._v("add")]),t._v("​ → "),v("code",[t._v("commit")]),t._v("​ → "),v("code",[t._v("push")]),t._v("​ 三步，也就是被戏称为 Git 三板斧的三个基本操作。")]),t._v(" "),v("p",[t._v("这对当时经历 SVN 到 Git 迁移的程序员来说，闹出过不少笑话。记得当时有位老兄是这么说的：「在 Git，就像对女朋友一样，你不能只是『承诺』，那没用，必须『推到』，那才是真的有用。」")]),t._v(" "),v("ol",[v("li",[t._v("​"),v("code",[t._v("git add")]),t._v("​：将文件的改动添加到暂存区")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("git commit")]),t._v("​：将暂存区的改动，提交到本地仓库")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("git push")]),t._v("​：将本地仓库的当前分支，提交到远程仓库对应的分支")])]),t._v(" "),v("p",[t._v("注意，这三板斧是一个链式的线性操作。")]),t._v(" "),v("h2",{attrs:{id:"五种-url-协议"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#五种-url-协议"}},[t._v("#")]),t._v(" 五种 URL 协议")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("格式")]),t._v(" "),v("th",[t._v("例子")]),t._v(" "),v("th",[t._v("优点")]),t._v(" "),v("th",[t._v("缺点")]),t._v(" "),v("th",[t._v("适用场景")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("HTTP/HTTPS 协议")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("https://github.com/user/repo.git")]),t._v("​")]),t._v(" "),v("td",[t._v("简单易用")]),t._v(" "),v("td",[t._v("传输速度较慢；私有仓库，可能需要用户名和密码")]),t._v(" "),v("td",[t._v("大多数场景")])]),t._v(" "),v("tr",[v("td",[t._v("SSH 协议")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git@github.com:user/repo.git")]),t._v("​")]),t._v(" "),v("td",[t._v("安全可靠")]),t._v(" "),v("td",[t._v("设置相对较复杂")]),t._v(" "),v("td",[t._v("需要频繁进行 Git 操作的场景")])]),t._v(" "),v("tr",[v("td",[t._v("Git 协议")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git://github.com/user/repo.git")]),t._v("​")]),t._v(" "),v("td",[t._v("速度快、安全性高（比 HTTP/HTTPS 和 SSH 协议具有更快的传输速度，并且不需要对外暴露仓库的读写权限）")]),t._v(" "),v("td",[t._v("不适用于排除防火墙的企业环境")]),t._v(" "),v("td",[t._v("-")])]),t._v(" "),v("tr",[v("td",[t._v("文件路径")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("/path/to/repository.git")]),t._v("​")]),t._v(" "),v("td",[t._v("无网络传输，速度非常快")]),t._v(" "),v("td",[t._v("仅适用于本地操作")]),t._v(" "),v("td",[t._v("开发和测试环境")])]),t._v(" "),v("tr",[v("td",[t._v("子模块 URL")]),t._v(" "),v("td",[t._v("任何以上格式")]),t._v(" "),v("td",[t._v("非常灵活（子模块 URL 可以指向任何 Git 仓库）")]),t._v(" "),v("td",[t._v("对于代码维护来说并不利")]),t._v(" "),v("td",[t._v("代码复用和模块化开发")])])])]),t._v(" "),v("h2",{attrs:{id:"git-目录"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#git-目录"}},[t._v("#")]),t._v(" .git 目录")]),t._v(" "),v("p",[t._v("Git 的所有信息都在 "),v("code",[t._v(".git")]),t._v("​ 目录下，我们看一下它下面有些什么：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/2076fe21afc84b249e28ab5bc4f4e7eatplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-tmt9on5.awebp",alt:""}}),t._v("​")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("名称")]),t._v(" "),v("th",[t._v("类型")]),t._v(" "),v("th",[t._v("说明")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("​"),v("code",[t._v("COMMIT_EDITMSG")]),t._v("​")]),t._v(" "),v("td",[t._v("文本文件")]),t._v(" "),v("td",[t._v("保存着最近一次的提交信息，作用仅仅只是给用户一个参考")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("HEAD")]),t._v("​")]),t._v(" "),v("td",[t._v("文本文件")]),t._v(" "),v("td",[t._v("记录了当前分支的指向")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("config")]),t._v("​")]),t._v(" "),v("td",[t._v("文本文件")]),t._v(" "),v("td",[t._v("当前仓库的本地配置，会与全局的进行合并，本地的同名配置优先")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("description")]),t._v("​")]),t._v(" "),v("td",[t._v("文本文件")]),t._v(" "),v("td",[t._v("项目描述（但我看不懂它的来源和作用）")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("hooks")]),t._v("​")]),t._v(" "),v("td",[t._v("目录")]),t._v(" "),v("td",[t._v("默认只有一堆钩子的 sample 文件")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("index")]),t._v("​")]),t._v(" "),v("td",[t._v("二进制文件")]),t._v(" "),v("td",[t._v("暂存区")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("info")]),t._v("​")]),t._v(" "),v("td",[t._v("目录")]),t._v(" "),v("td",[t._v("默认只有一个"),v("code",[t._v("exclude")]),t._v("​文件")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("logs")]),t._v("​")]),t._v(" "),v("td",[t._v("目录")]),t._v(" "),v("td",[t._v("操作记录，包含文件"),v("code",[t._v("HEAD")]),t._v("​（就是"),v("code",[t._v("git reflog")]),t._v("​来源）、"),v("code",[t._v("refs/heads")]),t._v("​目录、"),v("code",[t._v("refs/remotes")]),t._v("​目录")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("objects")]),t._v("​")]),t._v(" "),v("td",[t._v("目录")]),t._v(" "),v("td",[t._v("存放所有的 Git 对象，哈希值一共 40 位，前 2 位作为文件夹名称，后 38 位作为对象文件名")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("tags")]),t._v("​")]),t._v(" "),v("td",[t._v("目录")]),t._v(" "),v("td",[t._v("存储 Git 各种引用，包含三个目录"),v("code",[t._v("heads")]),t._v("​（所有的本地分支）、"),v("code",[t._v("tags")]),t._v("​（所有的本地 Tag）、"),v("code",[t._v("remotes")]),t._v("​下只有"),v("code",[t._v("origin/HEAD")]),t._v("​")])])])]),t._v(" "),v("h2",{attrs:{id:"🕋-安装与设置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🕋-安装与设置"}},[t._v("#")]),t._v(" 🕋 安装与设置")]),t._v(" "),v("h2",{attrs:{id:"安装"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),v("p",[t._v("你拿到 Mac 后，可能已经预装好了 Apple Git：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/7ada3395f23849628cc79c6d066ba743tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-es4s9ia.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("一般比 "),v("a",{attrs:{href:"https://git-scm.com/downloads",title:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方版本"),v("OutboundLink")],1),t._v(" 的要低，想要安装最新版的，用 "),v("a",{attrs:{href:"https://brew.sh/",title:"https://brew.sh",target:"_blank",rel:"noopener noreferrer"}},[t._v("homebrew"),v("OutboundLink")],1),t._v(" 安装：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[t._v("brew "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("blockquote",[v("p",[t._v("但也可能没有 Apple Git，而 homebrew 自己的安装又需要用到 "),v("code",[t._v("git")]),t._v("​，事情就变成「安装 git 需要现有 git」的尴尬场面，可以按照提示先安装命令行工具。")])]),t._v(" "),v("p",[t._v("安装后，重启 Terminal，即可看到安装了最新版的 "),v("code",[t._v("git")]),t._v("​：")]),t._v(" "),v("ol",[v("li",[t._v("​"),v("code",[t._v("git -v")]),t._v("​ 看到的是 Apple 预装的 "),v("code",[t._v("2.39.2")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("which git")]),t._v("​ 显示位置为  "),v("strong",[t._v("/user/bin/git")])]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("brew install git")]),t._v("​ 安装官方 Git")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("git -v")]),t._v("​ 看到的仍是原来的 Apple Git")]),t._v(" "),v("li",[t._v("重启 Terminal 后，"),v("code",[t._v("git -v")]),t._v("​ 看到的是新装版本")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("which git")]),t._v("​ 显示位置为  "),v("strong",[t._v("/opt/homebrew/bin/git")])])]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/fdb35889838a432d9fc93c0ab9a463bdtplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-m3wxe58.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("想要重新用回 Apple Git，"),v("code",[t._v("brew uninstall git")]),t._v("​；临时用回 Apple Git，可以用全路径 "),v("code",[t._v("/usr/bin/git")]),t._v("​。")]),t._v(" "),v("h2",{attrs:{id:"设置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[t._v("#")]),t._v(" 设置")]),t._v(" "),v("h3",{attrs:{id:"ssh"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[t._v("#")]),t._v(" SSH")]),t._v(" "),v("p",[t._v("使用 SSH 协议进行 Git 操作，安全可靠，速度相对较快，需要配置 SSH 密钥，同时需要在 Git 服务器（GitHub 或 GitLab 等）上添加对应的公钥。")]),t._v(" "),v("p",[t._v("一般在设置页面上链有说明文档，完全不必担心怎么设置。")]),t._v(" "),v("p",[t._v("以 Mac + GitHub 为例：")]),t._v(" "),v("ol",[v("li",[t._v("​"),v("code",[t._v("gcl git@...")]),t._v("​尝试 clone SSH Url，失败")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v('ssh-keygen -t ed25519 -C "em@il"')]),t._v("​ 生成跟邮箱对应的 SSH Key")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("pbcopy < ~/.ssh/id_ed25519.pub")]),t._v("​ 拷贝公钥内容至剪贴板，去 GitHub "),v("strong",[t._v("Settings")]),t._v(" → "),v("strong",[t._v("SSH and GPG Keys")]),t._v(" → "),v("strong",[t._v("New SSH")]),t._v(" 黏贴")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("ssh -T git@github.com")]),t._v("​ 测试（可以跳过）")]),t._v(" "),v("li",[t._v("再次 clone，成功")])]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/da909e466f7d47bd9bee07e5c810d058tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-dpt0oss.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h3",{attrs:{id:"用户名和邮箱"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#用户名和邮箱"}},[t._v("#")]),t._v(" 用户名和邮箱")]),t._v(" "),v("p",[t._v("Git 会在适当的时候提示你，比如当你需要提交代码的时候，它才会问你要账号信息：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/91f94a3766244adab3cafd7afeb9541ftplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-6wgeoul.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("大部分公司的 Git 规范一般都会要求用公司的邮箱，因此预先设置用户名和邮箱尤为重要：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--global")]),t._v(" user.name 我是谁\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--global")]),t._v(" user.email em@li.com\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br")])]),v("h3",{attrs:{id:"主分支名"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#主分支名"}},[t._v("#")]),t._v(" 主分支名")]),t._v(" "),v("p",[t._v("Apple Git 的主分支名为 "),v("code",[t._v("main")]),t._v("​，Github 也已经把主分支名改成了 "),v("code",[t._v("main")]),t._v("​，但官方的 Git 在 "),v("code",[t._v("git init")]),t._v("​ 的时候还会有警告：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/afd77b1471fa4dcf833cf74140383646tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-9mhkoem.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("按它的说明改一下：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--global")]),t._v(" init.defaultBranch main\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("h3",{attrs:{id:"全局-ignore"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#全局-ignore"}},[t._v("#")]),t._v(" 全局 Ignore")]),t._v(" "),v("p",[t._v("Git 仓库一定会有 "),v("code",[t._v(".gitignore")]),t._v("​，但那应当仅限于操作系统自动生成的文件、构建和单测产物等等。")]),t._v(" "),v("p",[t._v("我们也可以增加「全局 Ignore」 "),v("code",[t._v("~/.gitignore_global")]),t._v("​，比如临时存放只有自己会用的一些文件，不想删，不想挪位置，不想提交。")]),t._v(" "),v("p",[t._v("比如我有一些通用的模板代码放在某个目录下，然后软链接进来；又或者经常性地，我会将「临时」删除的文件 "),v("code",[t._v("mv")]),t._v("​ 到某个格式的目录下，最后再一起「硬」删除。")]),t._v(" "),v("p",[t._v("我的习惯是一定忽略四个连续 "),v("code",[t._v("_")]),t._v("​ 打头的文件或目录，如下操作：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" ~\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" .gitignore_global\n"),v("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"____*"')]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" .gitignore_global\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--global")]),t._v(" core.excludesFile ~/.gitignore_global\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br")])]),v("h2",{attrs:{id:"config-概览"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#config-概览"}},[t._v("#")]),t._v(" Config 概览")]),t._v(" "),v("p",[t._v("以上所有的全局配置都存入 ​ "),v("strong",[t._v("~/.gitconfig")]),t._v("​，可以直接看文件内容，也可以敲命令 "),v("code",[t._v("git config --list --global")]),t._v("​ 查看。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/7611ba122055490faeb31d70cc00f0c9tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-ivpo77v.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/73a42dfadaba444c9f8a6456f61fb6c3tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-97a54ob.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("在 Git 本地仓库下的 "),v("code",[t._v(".git/config")]),t._v("​ 中存着当前仓库的设置信息，Git 读取配置（"),v("code",[t._v("git config --list")]),t._v("​）会与全局的进行合并。")]),t._v(" "),v("h2",{attrs:{id:"🖲-git-客户端"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🖲-git-客户端"}},[t._v("#")]),t._v(" 🖲 Git 客户端")]),t._v(" "),v("p",[t._v("这里列数了我在用和浅尝过的一些客户端工具，更多可以看官方的文档 "),v("a",{attrs:{href:"https://git-scm.com/downloads/guis",title:"https://git-scm.com/downloads/guis",target:"_blank",rel:"noopener noreferrer"}},[t._v("《GUI Clients》"),v("OutboundLink")],1),t._v("。")]),t._v(" "),v("h2",{attrs:{id:"纯文本客户端"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#纯文本客户端"}},[t._v("#")]),t._v(" 纯文本客户端")]),t._v(" "),v("h3",{attrs:{id:"tig-★★★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tig-★★★★★"}},[t._v("#")]),t._v(" tig ★★★★★")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/b178336696474a1a906c16bbc9492ff3tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-2x7fn1s.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("名字取得好，看 Git 信息必备，我最常用的 Git 工具。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://jonas.github.io/tig",title:"https://jonas.github.io/tig",target:"_blank",rel:"noopener noreferrer"}},[t._v("jonas.github.io/tig"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("平台：Mac / Linux")]),t._v(" "),v("li",[t._v("安装："),v("code",[t._v("brew install tig")]),t._v("​")]),t._v(" "),v("li",[t._v("推荐指数：★★★★★")])]),t._v(" "),v("h3",{attrs:{id:"lazygit-★★★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#lazygit-★★★★★"}},[t._v("#")]),t._v(" lazygit ★★★★★")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/922ecd81c1b5482fafef667b4049e78dtplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-im3a2vd.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("Github 39K Star；全功能 Git 客户端。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://github.com/jesseduffield/lazygit",title:"https://github.com/jesseduffield/lazygit",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.com/jesseduffie…"),v("OutboundLink")],1),t._v(" 39K Star")]),t._v(" "),v("li",[t._v("平台：Mac / Linux")]),t._v(" "),v("li",[t._v("安装："),v("code",[t._v("brew install lazygit")]),t._v("​")]),t._v(" "),v("li",[t._v("推荐指数：★★★★★")])]),t._v(" "),v("h3",{attrs:{id:"gitui-★★☆"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#gitui-★★☆"}},[t._v("#")]),t._v(" gitui ★★☆")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/1a157e54fc4f4eb8b61885ef1b1b965dtplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-tuo8x0d.awebp",alt:""}}),t._v("​")]),t._v(" "),v("blockquote",[v("p",[t._v("注意不是 "),v("code",[t._v("git-gui")]),t._v("​。")])]),t._v(" "),v("p",[t._v("比较专注于待提交，不支持鼠标事件是个遗憾。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://github.com/extrawurst/gitui",title:"https://github.com/extrawurst/gitui",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.com/extrawurst/…"),v("OutboundLink")],1),t._v(" 14.1K Star")]),t._v(" "),v("li",[t._v("免费")]),t._v(" "),v("li",[t._v("平台：Mac / Linux")]),t._v(" "),v("li",[t._v("安装："),v("code",[t._v("brew install gitui")]),t._v("​")]),t._v(" "),v("li",[t._v("推荐指数：★★☆")])]),t._v(" "),v("h2",{attrs:{id:"gui-客户端"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#gui-客户端"}},[t._v("#")]),t._v(" GUI 客户端")]),t._v(" "),v("blockquote",[v("p",[t._v("珍爱生命，少用 GUI。")])]),t._v(" "),v("h3",{attrs:{id:"gitkraken-★★★★☆"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#gitkraken-★★★★☆"}},[t._v("#")]),t._v(" GitKraken ★★★★☆")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/f27b54fca2ab40579bc4908be2416f8btplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-s3xvcqt.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("号称「The world's most powerful suite of Git tools」，界面确实好看，功能也确实不错。")]),t._v(" "),v("p",[t._v("免费版的不能用在企业自搭的 GitLab 或 BitBucket，会要求升级账号（要钱）。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://www.gitkraken.com/",title:"https://www.gitkraken.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.gitkraken.com"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("收费：个人版免费；Pro 版 $4.95/月；Team ban $8.95/人月；企业版 $18.95/人月")]),t._v(" "),v("li",[t._v("平台：Mac / Windows / Linux")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★★★☆")])]),t._v(" "),v("h3",{attrs:{id:"sourcetree-★★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#sourcetree-★★★★"}},[t._v("#")]),t._v(" SourceTree ★★★★")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/e299991e3e124d7f9d2903c0468a4deftplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-6s2rv9y.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("免费的全功能 Git 客户端，UI 设计还不错。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fwww.sourcetreeapp.com",title:"https://www.sourcetreeapp.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.sourcetreeapp.com"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("免费")]),t._v(" "),v("li",[t._v("平台：Mac / Windows")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★★★")])]),t._v(" "),v("h3",{attrs:{id:"tower-★★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tower-★★★★"}},[t._v("#")]),t._v(" Tower ★★★★")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/fbf51d897043466d97d5548632bc5ec7tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-obu2bu0.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("跟 SourceTree 有点像，但个人感觉 Tower 更好看一些。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://www.git-tower.com/",title:"https://www.git-tower.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.git-tower.com"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("收费：基础版 $69；Pro 版 $99；学生和教师可获取免费 License")]),t._v(" "),v("li",[t._v("平台：Mac / Windows")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★★★")])]),t._v(" "),v("h3",{attrs:{id:"sublimemerge-★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#sublimemerge-★★★"}},[t._v("#")]),t._v(" SublimeMerge ★★★")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/6e545557298e4095a9cfda1708aa969btplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-axz1q0r.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("Sublime 作者出品，必属精品；但是一些基础的功能，比如切换主题，也需要收费。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://www.sublimemerge.com/",title:"https://www.sublimemerge.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.sublimemerge.com"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("收费：$99")]),t._v(" "),v("li",[t._v("平台：Mac / Windows / Linux")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★★")])]),t._v(" "),v("h3",{attrs:{id:"fork-★★☆"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#fork-★★☆"}},[t._v("#")]),t._v(" Fork ★★☆")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/1cd23ccb3a1d4f86b2441efcb87940ddtplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-acdig1p.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("和免费的 SourceTree 非常像，所以还是用 SourceTree 吧。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://git-fork.com/",title:"https://git-fork.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-fork.com"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("收费：$49.99")]),t._v(" "),v("li",[t._v("平台：Mac / Windows / Linux")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★☆")])]),t._v(" "),v("h3",{attrs:{id:"smartgit-★★☆"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#smartgit-★★☆"}},[t._v("#")]),t._v(" SmartGit ★★☆")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/75991a5f3d064d6d8ce52f0badcc1e5etplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-17723my.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("师出名门，就是感觉性能..不能尽如人意。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://www.syntevo.com/smartgit",title:"https://www.syntevo.com/smartgit",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.syntevo.com/smartgit"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("收费：$5.90/Month")]),t._v(" "),v("li",[t._v("平台：Mac / Windows / Linux")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★☆")])]),t._v(" "),v("h3",{attrs:{id:"gitup-★★★☆"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#gitup-★★★☆"}},[t._v("#")]),t._v(" GitUp ★★★☆")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/ebcc3eec3a5646a58e687ff0029590aatplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-pwy9q7l.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("还蛮..特别的，关注在提交历史和版本计较的体验上。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://github.com/git-up/GitUp",title:"https://github.com/git-up/GitUp",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.com/git-up/GitU…"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("免费")]),t._v(" "),v("li",[t._v("平台：Mac")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★★☆")])]),t._v(" "),v("h3",{attrs:{id:"其他"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),v("p",[t._v("另外还有好多好多，没有一一试用，简单罗列一下：")]),t._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://github.com/jlord/git-it-electron",title:"https://github.com/jlord/git-it-electron",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-it"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://www.gitfox.app/",title:"https://www.gitfox.app",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitfox"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://gitblade.com/",title:"https://gitblade.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitBlade"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://github.com/gitx/gitx",title:"https://github.com/gitx/gitx",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitX"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://github.com/Murmele/Gittyup",title:"https://github.com/Murmele/Gittyup",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gittyup"),v("OutboundLink")],1)])]),t._v(" "),v("h2",{attrs:{id:"系统集成"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#系统集成"}},[t._v("#")]),t._v(" 系统集成")]),t._v(" "),v("h3",{attrs:{id:"gitfinder-★★☆"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#gitfinder-★★☆"}},[t._v("#")]),t._v(" GitFinder ★★☆")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/48811f855fcc4d679e6de24e41ac3653tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-9tau6go.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("未曾试用，喜欢类似 TortoiseGit 体验的同学可以试试。")]),t._v(" "),v("p",[t._v("但 Mac 系统有 "),v("code",[t._v(".DS_Store")]),t._v("​，我并不喜欢用 Finder 看开发目录。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://gitfinder.com/",title:"https://gitfinder.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("gitfinder.com"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("收费：$29.95")]),t._v(" "),v("li",[t._v("平台：Mac")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★☆")])]),t._v(" "),v("h3",{attrs:{id:"tortoisegit-★★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#tortoisegit-★★★★"}},[t._v("#")]),t._v(" TortoiseGit ★★★★")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/c1f05a50893a49229f11e0fed48bf25ctplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-0s96y2u.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("用过它的两个兄长 TortoiseCVS 和 TortoiseSVN，Windows 用户值得拥有。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://tortoisegit.org/",title:"https://tortoisegit.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("tortoisegit.org"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("免费")]),t._v(" "),v("li",[t._v("平台：Windows")]),t._v(" "),v("li",[t._v("安装：下载安装")]),t._v(" "),v("li",[t._v("推荐指数：★★★★")])]),t._v(" "),v("h2",{attrs:{id:"插件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[t._v("#")]),t._v(" 插件")]),t._v(" "),v("p",[t._v("IDE 或编辑器的 Git 插件应该是用的最多的 Git 客户端了吧。")]),t._v(" "),v("h3",{attrs:{id:"jetbrains-家族-★★★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#jetbrains-家族-★★★★★"}},[t._v("#")]),t._v(" JetBrains 家族 ★★★★★")]),t._v(" "),v("p",[t._v("JB 的 Git 体验是我用过最棒的，直观的修改状态提示（文件树和编辑器）、方便的快捷键、丰富的菜单项、无与伦比的 Diff Merge，正是它的 Git 体验，让我毫不犹豫地弃 Eclipse 而改投 WebStorm 的怀抱。")]),t._v(" "),v("p",[t._v("即使通常使用命令行进行大部分的 Git 操作，在遇到需要人肉 Merge 的时候，我一定会用 JB 的 Git。")]),t._v(" "),v("ul",[v("li",[t._v("URL：-")]),t._v(" "),v("li",[t._v("收费：IDE 内置插件")]),t._v(" "),v("li",[t._v("平台：Mac / Linux / Windows")]),t._v(" "),v("li",[t._v("安装：IDE 内置")]),t._v(" "),v("li",[t._v("推荐指数：★★★★★")])]),t._v(" "),v("h3",{attrs:{id:"vscode-gitlens-★★★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vscode-gitlens-★★★★★"}},[t._v("#")]),t._v(" VSCode - GitLens ★★★★★")]),t._v(" "),v("p",[t._v("VSCode 下操作 Git 不二之选。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens",title:"https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens",target:"_blank",rel:"noopener noreferrer"}},[t._v("marketplace.visualstudio.com/items?itemN…"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("免费")]),t._v(" "),v("li",[t._v("平台：Mac / Linux / Windows")]),t._v(" "),v("li",[t._v("安装：插件市场")]),t._v(" "),v("li",[t._v("推荐指数：★★★★★")])]),t._v(" "),v("h3",{attrs:{id:"eclipse-egit-★★★"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#eclipse-egit-★★★"}},[t._v("#")]),t._v(" Eclipse - EGit ★★★")]),t._v(" "),v("p",[t._v("Eclipse 内置插件，喜欢 Eclipse 一定会用它，但体验真的没有 JB 家族的好。")]),t._v(" "),v("ul",[v("li",[t._v("URL："),v("a",{attrs:{href:"https://eclipse.dev/egit",title:"https://eclipse.dev/egit",target:"_blank",rel:"noopener noreferrer"}},[t._v("eclipse.dev/egit"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("免费")]),t._v(" "),v("li",[t._v("平台：Mac / Linux / Windows")]),t._v(" "),v("li",[t._v("安装：IDE 内置")]),t._v(" "),v("li",[t._v("推荐指数：★★★")])]),t._v(" "),v("h2",{attrs:{id:"汇总"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#汇总"}},[t._v("#")]),t._v(" 汇总")]),t._v(" "),v("p",[t._v("纯文本 UI 推荐 "),v("code",[t._v("tig")]),t._v("​ 和 "),v("code",[t._v("lazygit")]),t._v("​；标准 GUI 客户端推荐 GitKraken 和 SourceTree；系统集成看个人喜好吧；IDE 推荐 JB 家族和 VSCode 的 GitLens。")]),t._v(" "),v("h2",{attrs:{id:"🚥-命令行"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🚥-命令行"}},[t._v("#")]),t._v(" 🚥 命令行")]),t._v(" "),v("blockquote",[v("p",[t._v("珍爱生命，多用命令行。不要只用 GUI，不要只会「三板斧」。")])]),t._v(" "),v("p",[t._v("GUI 工具固然方便，优秀的程序员更应该对 Git 常用命令了如指掌。")]),t._v(" "),v("h2",{attrs:{id:"omz-fig"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#omz-fig"}},[t._v("#")]),t._v(" OMZ & Fig")]),t._v(" "),v("p",[t._v("说到命令行，又不得不提 "),v("a",{attrs:{href:"https://github.com/ohmyzsh/ohmyzsh",title:"https://github.com/ohmyzsh/ohmyzsh",target:"_blank",rel:"noopener noreferrer"}},[t._v("Oh My Zsh"),v("OutboundLink")],1),t._v(" 和 "),v("a",{attrs:{href:"https://fig.io/",title:"https://fig.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Fig"),v("OutboundLink")],1),t._v("。")]),t._v(" "),v("p",[t._v("OMZ 的 "),v("a",{attrs:{href:"https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git",title:"https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 插件"),v("OutboundLink")],1),t._v(" 提供了近 200 个简化命令别名，能够极大地提升效率。")]),t._v(" "),v("p",[t._v("Fig 能够为正在输入的命令及参数提供直观友好的提示，是了解命令及参数的最好老师：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/99c2f0da96df4fe49fab24e7e6015e2dtplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-uxfa0i2.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"仓库操作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#仓库操作"}},[t._v("#")]),t._v(" 仓库操作")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("操作")]),t._v(" "),v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("OMZ 短名")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("初始化")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git init")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])]),t._v(" "),v("tr",[v("td",[t._v("克隆")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git clone <url>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gcl")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("配置（仅对当前仓库）")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git config")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])]),t._v(" "),v("tr",[v("td",[t._v("获取当前仓库配置信息")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git config --list")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gcf")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("添加远程")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git remote add <name> <url>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gra <name> <url>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("设置远程")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git remote set-url <name> <url>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("grset <name> <url>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("移除远程")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git remote rm <name>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("grrm <name>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("更名远程")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git remote rename <from> <to>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("grmv <from> <to>")]),t._v("​")])])])]),t._v(" "),v("h2",{attrs:{id:"分支操作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分支操作"}},[t._v("#")]),t._v(" 分支操作")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("操作")]),t._v(" "),v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("OMZ 短名")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("查看本地分支列表")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git branch")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gb")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("查看远程分支列表")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git branch -r")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gbr")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("查看本地 + 远程分支列表")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git branch -a")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gba")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("新切分支")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git checkout -b <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gcb <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("切换分支")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git checkout <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gco <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("新切分支 2")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git switch -c <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gswc <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("切换分支2")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git switch <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gsw <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("切回主分支")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git checkout <main-branch>")]),t._v("​需分清"),v("code",[t._v("main")]),t._v("​还是"),v("code",[t._v("master")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gcm")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("切回主分支 2")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git switch <main-branch>")]),t._v("​需分清"),v("code",[t._v("main")]),t._v("​还是"),v("code",[t._v("master")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gswm")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("重命名分支")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git branch -m <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gbm <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("删除分支")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git branch -d <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gbd <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("删除分支（强删）")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git branch -D <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gbD <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("清除本地残留的远程分支记录（否则命令行提示会干扰"),v("code",[t._v("git checkout")]),t._v("​）")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git remote prune origin")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])]),t._v(" "),v("tr",[v("td",[t._v("合并主分支")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git merge master 或 main")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gmom")]),t._v("​")])])])]),t._v(" "),v("h2",{attrs:{id:"变更操作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#变更操作"}},[t._v("#")]),t._v(" 变更操作")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("操作")]),t._v(" "),v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("OMZ 短名")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("从远程仓库下载最新变更至本地仓库")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git fetch")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gf")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("git fetch")]),t._v("​之前清理残留的远程分支记录")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git fetch --all --prune")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gfa")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("从远程仓库拉取并合并")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git pull")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gl")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("合并分支")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git merge <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gm <branch>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("进 Stage")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git add")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("ga")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("提交")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git commit -m <message>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gcmsg")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("进 State + 提交一步到位")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git commit -am <message>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gcam")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("推到远程仓库（需新建远程分支）")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git push -u origin <branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gpsup")]),t._v("​可以自感知当前分支名")])]),t._v(" "),v("tr",[v("td",[t._v("推到远程仓库（已有远程分支）")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git push")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gp")]),t._v("​")])])])]),t._v(" "),v("h2",{attrs:{id:"文件操作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#文件操作"}},[t._v("#")]),t._v(" 文件操作")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("操作")]),t._v(" "),v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("OMZ 短名")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("删除文件或目录")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git rm <file>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("grm <file>")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("移动文件或目录")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git mv <from> <to>")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])])])]),t._v(" "),v("h2",{attrs:{id:"查看信息"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#查看信息"}},[t._v("#")]),t._v(" 查看信息")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("操作")]),t._v(" "),v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("OMZ 短名")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("打印远程信息")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git remote -v")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("grv")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("查看工作目录的状态（那些文件有改动、哪些文件未跟踪）")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git status")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gst")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("查看 Commit 之间的文件内容差异")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git diff")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gd")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("查看提交日志")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git log")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])])])]),t._v(" "),v("p",[t._v("OMZ 提供了一系列显示效果更好的日志查看便捷命令，推荐 "),v("code",[t._v("glol")]),t._v("​、"),v("code",[t._v("glola")]),t._v("​，比如 "),v("code",[t._v("glol")]),t._v("​ 的效果：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/00a1c5934de8414eb4e52d5301ad7eb5tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-7oari0o.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"后悔药"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#后悔药"}},[t._v("#")]),t._v(" 后悔药")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("操作")]),t._v(" "),v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("OMZ 短名")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("重置 HEAD 指针")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git reset")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("grh")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("回滚")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git revert <commit>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("grev")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("删除远程分支 / Tag")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git push -d origin <branch>")]),t._v("​或"),v("code",[t._v("git push origin :<branch>")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("gpod <branch>")]),t._v("​")])])])]),t._v(" "),v("h2",{attrs:{id:"其他-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#其他-2"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("操作")]),t._v(" "),v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("OMZ 短名")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("查看 Tag 列表")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git tag")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])]),t._v(" "),v("tr",[v("td",[t._v("新建 Tag")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git tag <name>")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])]),t._v(" "),v("tr",[v("td",[t._v("推送 Tag")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("git push <tag-name>")]),t._v("​")]),t._v(" "),v("td",[t._v("-")])])])]),t._v(" "),v("h2",{attrs:{id:"🗿-不常用-但非常有用的技巧"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🗿-不常用-但非常有用的技巧"}},[t._v("#")]),t._v(" 🗿 不常用，但非常有用的技巧")]),t._v(" "),v("h2",{attrs:{id:"修改提交者信息"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改提交者信息"}},[t._v("#")]),t._v(" 修改提交者信息")]),t._v(" "),v("p",[t._v("公司要求提交信息是公司的邮箱，但你可能有自己的开源项目，如果忘记设置 "),v("code",[t._v("user.name")]),t._v("​ 和 "),v("code",[t._v("user.email")]),t._v("​ 就会产生不合场景的提交信息。")]),t._v(" "),v("p",[t._v("如果公司的 Git 服务设置禁止非公司域邮箱提交，最终可能导致无法 push。")]),t._v(" "),v("p",[t._v("也有可能你在自己的私人项目下以公司邮箱的身份提交了。")]),t._v(" "),v("h3",{attrs:{id:"修改最近一次-commit-作者"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改最近一次-commit-作者"}},[t._v("#")]),t._v(" 修改最近一次 commit 作者")]),t._v(" "),v("p",[t._v("提交一次即刻觉醒，及时止损。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/5e5c9857c8ef48bb96b0a1b04cda314ftplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-w1i0nd1.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("修正当前项目（非全局）下的用户信息（也可以直接编辑 "),v("code",[t._v(".git/config")]),t._v("​）：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.name "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("用户名"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config user.email "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("私人邮箱"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br")])]),v("p",[t._v("然后执行 "),v("code",[t._v("git commit --amend --reset-author")]),t._v("​ 即可：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/742056593f054ad8961ffa6f7ef487catplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-oq1n8p7.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h3",{attrs:{id:"修改多次-commit-作者"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改多次-commit-作者"}},[t._v("#")]),t._v(" 修改多次 Commit 作者")]),t._v(" "),v("p",[t._v("但更多的时候可能是，已经错误提交了很多次，在最终 "),v("code",[t._v("push")]),t._v("​ 的时候被远程拒绝了。")]),t._v(" "),v("p",[t._v("参考文档："),v("a",{attrs:{href:"https://dev.to/brayanarrieta/how-to-change-the-git-commit-author-56mg",title:"https://dev.to/brayanarrieta/how-to-change-the-git-commit-author-56mg",target:"_blank",rel:"noopener noreferrer"}},[t._v("dev.to/brayanarrie…"),v("OutboundLink")],1)]),t._v(" "),v("p",[t._v("如下，在 GitHub 上的项目，我需要把「驳是」都改成「Jianchun Wang」。")]),t._v(" "),v("p",[t._v("先 "),v("code",[t._v("tig")]),t._v("​ 查找并拷贝之前的正确的 Commit ID：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/a34eaf04386546769521956a2241a249tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-sc8o2oo.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("以上，有 7 次的错误提交，并拷贝了这 7 次之前的 Commit ID。")]),t._v(" "),v("p",[t._v("执行命令：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rebase "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--interactive")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--merge")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit-id"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" rebase "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit-id"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br")])]),v("p",[t._v("在弹出的 Vim 界面中将需要修改的 Commit 前边的 "),v("code",[t._v("pick")]),t._v("​ 改成 "),v("code",[t._v("edit")]),t._v("​（可使用 Vim 替换指令 "),v("code",[t._v(":s/pick/edit/ 7")]),t._v("​），然后输入 "),v("code",[t._v(":wq")]),t._v("​：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/c1de657028104ae5ada76d0d207d52d3tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-r5i12v0.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("随后，会发现被切到一个奇怪 "),v("code",[t._v("rebase-i")]),t._v("​ 分支，并有相关的提示：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/7bff531b61f34a8d881904253f6138d4tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-b4byufs.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("实际上它并不是一个真正的分支，执行 "),v("code",[t._v("git branch")]),t._v("​ 可以看到 "),v("code",[t._v("(no brach, rebasing ...)")]),t._v("​：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/f4a07130090c4dcabf046dab56bf73cftplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-qxuttrn.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("根据步骤提示，依次执行 "),v("code",[t._v("git commit --amend --reset-author")]),t._v("​ + "),v("code",[t._v("git rebase --continue")]),t._v("​ 一直到最后返回到原分支：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/e9dd14ac01964c0589e6455d4561a007tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-qtt9fg8.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("完成后的效果：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/c6bd1335d8ea4b2eb8191b9023a9bb02tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-2xckkp4.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h3",{attrs:{id:"修改远程仓库"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#修改远程仓库"}},[t._v("#")]),t._v(" 修改远程仓库")]),t._v(" "),v("p",[t._v("本地修正好之后，"),v("code",[t._v("git push -f")]),t._v("​。")]),t._v(" "),v("h2",{attrs:{id:"真正的「暂存」-stash"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#真正的「暂存」-stash"}},[t._v("#")]),t._v(" 真正的「暂存」- Stash")]),t._v(" "),v("p",[t._v("有这样的时候，代码写得正酣，还没有提交，因为还没有写完，一堆的报红，还没有格式调优，运行也必会出错。偏偏在这个时候，有个紧急的线上问题需要验证修复。这个时候提交不合适，还有可能被二哈拦截不让提交（虽然可以绕过）。")]),t._v(" "),v("p",[t._v("这种情况下就需要用到 "),v("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgit-scm.com%2Fdocs%2Fgit-stash",title:"https://git-scm.com/docs/git-stash",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-stash"),v("OutboundLink")],1),t._v(" 了，记住下面几个命令就可以了：")]),t._v(" "),v("ul",[v("li",[t._v("​"),v("code",[t._v("git stash")]),t._v("​ 相当于 "),v("code",[t._v("git stash push")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("git stash list")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("git stash pop")]),t._v("​")])]),t._v(" "),v("p",[t._v("把 Stash 看成是一个 "),v("strong",[t._v("临时")]),t._v(" 存放变更的场所即可，这个「临时」应尽可能短（不然真的容易忘）。")]),t._v(" "),v("p",[t._v("一般来说执行 "),v("code",[t._v("git stash")]),t._v("​ 之后，处理完紧急事务后，再切回对应的分支后，需要立即 "),v("code",[t._v("git stash pop")]),t._v("​ 恢复到之前的状态。")]),t._v(" "),v("p",[t._v("如果你害怕忘记，强烈推荐 Terminal 的 "),v("a",{attrs:{href:"https://github.sheincorp.cn/romkatv/powerlevel10k",title:"https://github.sheincorp.cn/romkatv/powerlevel10k",target:"_blank",rel:"noopener noreferrer"}},[t._v("p10k"),v("OutboundLink")],1),t._v(" 主题，可以看我的 "),v("a",{attrs:{href:"https://juejin.cn/post/7267111166187012131#heading-34",title:"https://juejin.cn/post/7267111166187012131#heading-34",target:"_blank",rel:"noopener noreferrer"}},[t._v("入坑 iTerm"),v("OutboundLink")],1),t._v("。")]),t._v(" "),v("p",[t._v("下图可以看到 "),v("code",[t._v("git stash")]),t._v("​ 后，工作区变干净了，同时 p10k 的 Git 变更指示会以星号提醒你有多少个 Stash。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/4fd1696eefc14194a8c0bd11ef071e56tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-65ygd8p.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"挤一挤更健康-squash"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#挤一挤更健康-squash"}},[t._v("#")]),t._v(" 挤一挤更健康 - Squash")]),t._v(" "),v("p",[t._v("新写需求的初期，代码高速增长期，我习惯高频提交以免中间出现任何不可回溯的问题（往往会一个 message 不断提交）。")]),t._v(" "),v("p",[t._v("但这样的提交历史并不好看：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/388bf4de787b44789f57387461d016e7tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-fp6xjfr.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("这里的 45 次提交，实际上都是在做同一件事情，为了避免 Code review 以及以后的代码回溯产生困扰，我们来对这些提交记录进行合并，这就需要用到 "),v("a",{attrs:{href:"https://www.geeksforgeeks.org/git-squash/",title:"https://www.geeksforgeeks.org/git-squash/",target:"_blank",rel:"noopener noreferrer"}},[t._v("git-squash"),v("OutboundLink")],1),t._v("，注意 squash 不是一个命令，而是 "),v("code",[t._v("rebase")]),t._v("​ 的一种策略。参考以下步骤：")]),t._v(" "),v("h3",{attrs:{id:"步骤-1-进入-rebase"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#步骤-1-进入-rebase"}},[t._v("#")]),t._v(" 步骤 1 - 进入 Rebase")]),t._v(" "),v("p",[t._v("敲 Git 命令 "),v("code",[t._v("git rebase -i HEAD~45")]),t._v("​ 进入 Rebase 交互，包含头部 45 条 commit 记录。注意，这里看到的 Commit 是倒序排列的。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/a4b747b1fc5541648c36924ac49936a3tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-ndfasnj.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h3",{attrs:{id:"步骤-2-修改-rebase-策略"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#步骤-2-修改-rebase-策略"}},[t._v("#")]),t._v(" 步骤 2 - 修改 Rebase 策略")]),t._v(" "),v("p",[t._v("我们需要将除了第一行（"),v("code",[t._v("HEAD~45")]),t._v("​）之外的其余 2-45 行的 "),v("code",[t._v("pick")]),t._v("​ 改成 "),v("code",[t._v("squash")]),t._v("​（单写一个 s "),v("code",[t._v("即可")]),t._v("​）。")]),t._v(" "),v("p",[t._v("这里需要用到 Vim 的文本替换技巧，敲 Vim 命令 "),v("code",[t._v(":2,45s/pick/s")]),t._v("​，第一个 "),v("code",[t._v("s")]),t._v("​ 是 Vim 的 "),v("code",[t._v("search")]),t._v("​ 命令，反斜杠后的 "),v("code",[t._v("s")]),t._v("​ 代表 "),v("code",[t._v("squash")]),t._v("​。改命令表示把第 2 到 45 行的 "),v("code",[t._v("pick")]),t._v("​ 改成 "),v("code",[t._v("s")]),t._v("​。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/2e4cf7b49c9c44fda94e36e0fc891e75tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-iv4wwcb.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h3",{attrs:{id:"步骤-3-保存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#步骤-3-保存"}},[t._v("#")]),t._v(" 步骤 3 - 保存")]),t._v(" "),v("p",[t._v("第二步保存（"),v("code",[t._v(":wq")]),t._v("​）后，Git 会执行一些操作，然后将我们带到一个新的 Commit 提交界面，直接提交即可。")]),t._v(" "),v("p",[t._v("执行完毕后，可以看到原来一长溜的提交记录都挤到一条记录中了：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/6e830a431be14e45a4917f8c26f7d924tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-8u9mqoq.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"📐-项目规范"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#📐-项目规范"}},[t._v("#")]),t._v(" 📐 项目规范")]),t._v(" "),v("h2",{attrs:{id:"gitignore"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#gitignore"}},[t._v("#")]),t._v(" .gitignore")]),t._v(" "),v("blockquote",[v("p",[t._v("护住你的节操！避免没用的文件进入版本控制被人鄙视。")])]),t._v(" "),v("h3",{attrs:{id:"哪些需要被忽略"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#哪些需要被忽略"}},[t._v("#")]),t._v(" 哪些需要被忽略")]),t._v(" "),v("p",[t._v("哪些是「没用」的文件：")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("下载的依赖，如 "),v("code",[t._v("node_modules")]),t._v("​")])]),t._v(" "),v("li",[v("p",[t._v("系统自动生成的文件，如 Mac 的 "),v("code",[t._v(".DS_Store")]),t._v("​，Windows 的 "),v("code",[t._v("Thumbs.db")]),t._v("​")])]),t._v(" "),v("li",[v("p",[t._v("编码工具自动生成的项目配置")]),t._v(" "),v("ul",[v("li",[t._v("JB："),v("code",[t._v(".idea")]),t._v("​")]),t._v(" "),v("li",[t._v("VSCode："),v("code",[t._v(".vscode")]),t._v("​")]),t._v(" "),v("li",[t._v("Eclipse："),v("code",[t._v(".settings")]),t._v("​、"),v("code",[t._v(".classpath")]),t._v("​、"),v("code",[t._v(".project")]),t._v("​")]),t._v(" "),v("li",[t._v("Vim 的 "),v("code",[t._v(".xx.swap")]),t._v("​")])])]),t._v(" "),v("li",[v("p",[t._v("构建产物")])])]),t._v(" "),v("h3",{attrs:{id:"提交无用文件的危害"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#提交无用文件的危害"}},[t._v("#")]),t._v(" 提交无用文件的危害")]),t._v(" "),v("ol",[v("li",[t._v("增加「代码」量，但也降低了代码提交者的「码品」，特别是下载的依赖")]),t._v(" "),v("li",[t._v("产生没必要的冲突，尤其是系统文件、构建结果")]),t._v(" "),v("li",[t._v("个人习惯困扰，尤其是编码工具自动生成的项目配置")]),t._v(" "),v("li",[t._v("干扰全局搜索")])]),t._v(" "),v("h3",{attrs:{id:"如何写一个好的-gitignore"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#如何写一个好的-gitignore"}},[t._v("#")]),t._v(" 如何写一个好的 .gitignore")]),t._v(" "),v("p",[t._v("一个好的 "),v("code",[t._v(".gitignore")]),t._v("​ 应该具有足够的包容性和前瞻性。")]),t._v(" "),v("p",[t._v("也就是说，在现在和将来的时间内，对不同习惯的开发者，大多数无用的文件都会被忽略，大多数有用的文件都不会被忽略。不需要频繁调整 "),v("code",[t._v(".gitignore")]),t._v("​，也不会经常有「无用」文件被不小心提交上来。")]),t._v(" "),v("p",[t._v("我见过很多人对 "),v("code",[t._v(".gitignore")]),t._v("​ 的处理是做加法，罗列一大堆的「无用」文件，但总有漏网之鱼。")]),t._v(" "),v("p",[t._v("我更建议的是 ​"),v("strong",[t._v("做减法")]),t._v("​，特别是 "),v("code",[t._v(".xx")]),t._v("​，直接全忽略了，然后再添加例外。")]),t._v(" "),v("h3",{attrs:{id:"我的-gitignore"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#我的-gitignore"}},[t._v("#")]),t._v(" 我的 .gitignore")]),t._v(" "),v("div",{staticClass:"language-gitignore line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-gitignore"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# common")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[t._v("."),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")])]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("."),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("ignore")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("."),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(".yml")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("."),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(".yaml")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("."),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rc")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("."),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("rc."),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")])]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(".husky")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(".log"),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")])]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dev")]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[t._v("node_modules"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/")])]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# generated")]),t._v("\n\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[t._v("build"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/")])]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[t._v("coverage"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/")])]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(".lock")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("-lock.json")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token entry string"}},[v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("-lock.yaml")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br"),v("span",{staticClass:"line-number"},[t._v("9")]),v("br"),v("span",{staticClass:"line-number"},[t._v("10")]),v("br"),v("span",{staticClass:"line-number"},[t._v("11")]),v("br"),v("span",{staticClass:"line-number"},[t._v("12")]),v("br"),v("span",{staticClass:"line-number"},[t._v("13")]),v("br"),v("span",{staticClass:"line-number"},[t._v("14")]),v("br"),v("span",{staticClass:"line-number"},[t._v("15")]),v("br"),v("span",{staticClass:"line-number"},[t._v("16")]),v("br"),v("span",{staticClass:"line-number"},[t._v("17")]),v("br"),v("span",{staticClass:"line-number"},[t._v("18")]),v("br"),v("span",{staticClass:"line-number"},[t._v("19")]),v("br"),v("span",{staticClass:"line-number"},[t._v("20")]),v("br"),v("span",{staticClass:"line-number"},[t._v("21")]),v("br")])]),v("ol",[v("li",[t._v("​"),v("code",[t._v(".*")]),t._v("​ 全部忽略了，但保留了所有 "),v("code",[t._v(".xxignore")]),t._v("​、"),v("code",[t._v(".xxrc")]),t._v("​、"),v("code",[t._v(".xx.yml")]),t._v("​、"),v("code",[t._v(".xx.yaml")]),t._v("​ 这些配置文件")]),t._v(" "),v("li",[t._v("若有特殊的 "),v("code",[t._v(".xxrc")]),t._v("​ 文件（比如有的时候可能需要 "),v("code",[t._v(".npmrc")]),t._v("​ 因为它里边带来私人 Token）需要忽略，写到 "),v("code",[t._v("!.*rc")]),t._v("​ 下面就行了")]),t._v(" "),v("li",[t._v("反对 lock（不要理我）")])]),t._v(" "),v("p",[t._v("以上文件能够覆盖绝大多数的前端项目，至于后端项目，也差不多，稍微改改就行了。")]),t._v(" "),v("p",[t._v("​"),v("code",[t._v(".gitignore")]),t._v("​ 的语法和更多说明看 "),v("a",{attrs:{href:"https://git-scm.com/docs/gitignore",title:"https://git-scm.com/docs/gitignore",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方说明"),v("OutboundLink")],1),t._v("。")]),t._v(" "),v("h2",{attrs:{id:"提交用户规范"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#提交用户规范"}},[t._v("#")]),t._v(" 提交用户规范")]),t._v(" "),v("p",[t._v("尤其是对于公司的项目，规范提交者信息非常必要：")]),t._v(" "),v("ol",[v("li",[t._v("​"),v("code",[t._v("user.name")]),t._v("​ 的书写格式")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("user.email")]),t._v("​ 必须是公司邮箱")])]),t._v(" "),v("p",[t._v("软的规范不若硬的约束，参考我的 "),v("a",{attrs:{href:"https://juejin.cn/post/7278994237949444136",title:"https://juejin.cn/post/7278994237949444136",target:"_blank",rel:"noopener noreferrer"}},[t._v("《你的前端工程，二哈和它的朋友们都安排上了么？》"),v("OutboundLink")],1),t._v("下「约束提交用户信息和分支规范」一章。")]),t._v(" "),v("h2",{attrs:{id:"提交-message-规范"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#提交-message-规范"}},[t._v("#")]),t._v(" 提交 Message 规范")]),t._v(" "),v("p",[t._v("如何设置看我另一篇文章 "),v("a",{attrs:{href:"https://juejin.cn/post/7278994237949444136",title:"https://juejin.cn/post/7278994237949444136",target:"_blank",rel:"noopener noreferrer"}},[t._v("《你的前端工程，二哈和它的朋友们都安排上了么？》"),v("OutboundLink")],1),t._v("的「commitlint」一章。")]),t._v(" "),v("p",[t._v("Git 从最初的设计就要求每次提交（commit）都必须带说明（commit message），以方便回顾和回滚。")]),t._v(" "),v("p",[t._v("但每个人写 commit message 的习惯和风格都不一样，有的人写的很详细，有的人却图省事，一水的「update」或「提交」或「更新」。")]),t._v(" "),v("p",[t._v("其实，Git message 是有规范的，那就是 "),v("a",{attrs:{href:"https://www.conventionalcommits.org/",title:"https://www.conventionalcommits.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Conventional Commits"),v("OutboundLink")],1),t._v("，规范的具体细节这里就不展开了。")]),t._v(" "),v("p",[t._v("光有规范不行，还必须有工具才行 —— "),v("a",{attrs:{href:"https://commitlint.js.org/",title:"https://commitlint.js.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint"),v("OutboundLink")],1),t._v("。")]),t._v(" "),v("p",[t._v("我一直说「工具是最好的老师」，"),v("a",{attrs:{href:"https://commitlint.js.org/#/guides-local-setup",title:"https://commitlint.js.org/#/guides-local-setup",target:"_blank",rel:"noopener noreferrer"}},[t._v("设置 commitlint"),v("OutboundLink")],1),t._v(" 后，你再提交就会受到良好的「教育」了。")]),t._v(" "),v("h2",{attrs:{id:"分支规范"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分支规范"}},[t._v("#")]),t._v(" 分支规范")]),t._v(" "),v("p",[t._v("参考我的 "),v("a",{attrs:{href:"https://juejin.cn/post/7278994237949444136",title:"https://juejin.cn/post/7278994237949444136",target:"_blank",rel:"noopener noreferrer"}},[t._v("《你的前端工程，二哈和它的朋友们都安排上了么？》"),v("OutboundLink")],1),t._v("下「约束提交用户信息和分支规范」一章。")]),t._v(" "),v("blockquote",[v("p",[t._v("我从来没有想到有人会用中文命名分支...")])]),t._v(" "),v("p",[t._v("事实上，Git 分支可以是任何有效字符，甚至都可以用「恶魔鸡」：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/ea7d70a2b2b44083b79bba0188cca492tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-t7toeql.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h3",{attrs:{id:"分支名书写规范"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分支名书写规范"}},[t._v("#")]),t._v(" 分支名书写规范")]),t._v(" "),v("p",[t._v("然而「给你自由过了火」就会犯罪，所以我们需要有一定的 ​"),v("strong",[t._v("书写规范")]),t._v("​：")]),t._v(" "),v("ul",[v("li",[t._v("统一小写字母")]),t._v(" "),v("li",[t._v("用 "),v("code",[t._v("/")]),t._v("​ 归类")]),t._v(" "),v("li",[t._v("连字符用 "),v("code",[t._v("-")]),t._v("​")])]),t._v(" "),v("h3",{attrs:{id:"分支名组成规范"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#分支名组成规范"}},[t._v("#")]),t._v(" 分支名组成规范")]),t._v(" "),v("p",[t._v("默认 Git 只有一个常驻远程分支，也就是主分支，有些公司或个人可能会根据自己的基建定义多个常驻分支，比如 "),v("code",[t._v("dev")]),t._v("​、"),v("code",[t._v("test")]),t._v("​ 等，比如我的某个项目下有 "),v("code",[t._v("lerna/pub")]),t._v("​ 常驻分支，专门用来发包的。")]),t._v(" "),v("p",[t._v("其余的分支，都应该是临时分支，它们的宿命就是被最终合并到主分支，并消失在历史的长河中。")]),t._v(" "),v("p",[t._v("临时分支的命名规范，建议为 "),v("code",[t._v("类型/版本-简述")]),t._v("​，仅允许小写字母、数字、"),v("code",[t._v("-")]),t._v("​ 和 "),v("code",[t._v("/")]),t._v("​，不允许其他特殊字符，不允许大写，不允许中文。")]),t._v(" "),v("p",[t._v("版本和简述，不一定两个都要，但至少需要有一个，描述不要超过 32 个字符。")]),t._v(" "),v("p",[t._v("根据分支处理的事务，类型可以有以下几种：")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("前缀")]),t._v(" "),v("th",[t._v("作用")]),t._v(" "),v("th",[t._v("代码修改")]),t._v(" "),v("th",[t._v("升级版本号")]),t._v(" "),v("th",[t._v("举例")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("​"),v("code",[t._v("feature/")]),t._v("​")]),t._v(" "),v("td",[t._v("功能需求分支，新增、更新、移除某功能")]),t._v(" "),v("td",[t._v("视需求，代码量一般不会很少")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("minor")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("feature/1.1.0-add-user-management")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("fix/")]),t._v("​")]),t._v(" "),v("td",[t._v("Bug 修复分支，修复问题")]),t._v(" "),v("td",[t._v("代码量不多")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("patch")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("fix/1.1.1-user-display-name")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("chore/")]),t._v("​")]),t._v(" "),v("td",[t._v("工程分支，与项目构建、编程规范等有关的")]),t._v(" "),v("td",[t._v("一般不涉及"),v("code",[t._v("src")]),t._v("​下的代码")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("major")]),t._v("​或"),v("code",[t._v("minor")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("chore/1.2.0-husky-and-friends")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("docs/")]),t._v("​")]),t._v(" "),v("td",[t._v("文档分支，更新说明性的文档，README 和"),v("code",[t._v("doc/")]),t._v("​目录下的文件")]),t._v(" "),v("td",[t._v("仅 Markdown 文件")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("minor")]),t._v("​或"),v("code",[t._v("patch")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("docs/1.3.0-standards-for-dev")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("test/")]),t._v("​")]),t._v(" "),v("td",[t._v("测试分支，单元测试，Demo 等")]),t._v(" "),v("td",[t._v("不影响生产")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("minor")]),t._v("​或"),v("code",[t._v("patch")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("test/1.4.0-util-fetcher")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("perf/")]),t._v("​")]),t._v(" "),v("td",[t._v("性能分支，优化性能有关问题")]),t._v(" "),v("td",[t._v("不涉及业务逻辑")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("minor")]),t._v("​或"),v("code",[t._v("patch")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("perf/1.4.1-user-list-scroll")]),t._v("​")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("refactor/")]),t._v("​")]),t._v(" "),v("td",[t._v("重构分支，重构代码")]),t._v(" "),v("td",[t._v("不涉及业务逻辑，但容易出 Regression Bug")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("minor")]),t._v("​")]),t._v(" "),v("td",[t._v("​"),v("code",[t._v("refactor/1.5.0-user-as-model")]),t._v("​")])])])]),t._v(" "),v("h2",{attrs:{id:"🙋-faq"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🙋-faq"}},[t._v("#")]),t._v(" 🙋 FAQ")]),t._v(" "),v("h2",{attrs:{id:"❓-挠人的-passphrase-提示"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-挠人的-passphrase-提示"}},[t._v("#")]),t._v(" ❓ 挠人的 passphrase 提示")]),t._v(" "),v("p",[t._v("使用 SSH 协议克隆远程仓库时，每次 pull / push 都会提示「Enter passphrase for key '/Users/xx/.ssh/id_rsa'」。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/502a0207c3014db8a25034b7b478a5a9tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-i0l31dh.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("这是因为在生成 SSH Key 的时候，根据提示设置了 passphrase，然而每次输入真的很烦。")]),t._v(" "),v("p",[t._v("可以在命令行输入 "),v("code",[t._v("sh-keygen -p")]),t._v("​ 进行重新设置，直接回车输入为空，就没有密码了（只是删除密码 ssh 的 pub 不会改变）。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/0c48abe2a9774219ad32f2bf191c4ac8tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-p0odksf.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"❓-挠人的-git-pull-警告"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-挠人的-git-pull-警告"}},[t._v("#")]),t._v(" ❓ 挠人的 git pull 警告")]),t._v(" "),v("p",[t._v("按它说的设置一下：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" config "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--global")]),t._v(" pull.rebase "),v("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("h2",{attrs:{id:"❓-奇怪的提示「modified-content-untracked-content」-怎么都-add​-不了"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-奇怪的提示「modified-content-untracked-content」-怎么都-add​-不了"}},[t._v("#")]),t._v(" ❓ 奇怪的提示「modified content, untracked content」，怎么都 "),v("code",[t._v("add")]),t._v("​ 不了")]),t._v(" "),v("p",[t._v("如下图，Git 状态是 clean 的，但查看状态永远有个提示「modified content, untracked content」。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/fe1115048ed743e2b541e1ee67d09e84tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-r33rovs.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("这个问题，极有可能是你把某个 git 项目拷贝进来导致的，也就是说被提示的这个目录下有自己的 "),v("code",[t._v(".git")]),t._v("​ 目录，杀了它就行。")]),t._v(" "),v("h2",{attrs:{id:"❓-如何解决冲突"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-如何解决冲突"}},[t._v("#")]),t._v(" ❓ 如何解决冲突")]),t._v(" "),v("p",[t._v("多人开发一定会合并分支，合并就难免冲突，即使一个人维护一个仓库，不同的需求根据时间先后，也难免自己冲突：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/238abec02ab548d1a4e699a329b586aftplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-pepfgbs.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/74ea8e5f901e4c21bec687915f6296d9tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-3rwnl95.awebp",alt:"image.png"}}),t._v("​")]),t._v(" "),v("p",[t._v("注意它的提示，主要两个意思：")]),t._v(" "),v("ol",[v("li",[t._v("如果不想合并了，执行 "),v("code",[t._v("git merge --abort")]),t._v("​，将回到执行 "),v("code",[t._v("git merge <another-branch>")]),t._v("​ 之前的状态")]),t._v(" "),v("li",[t._v("首先你需要改代码，把 Git 加的那些 Merge 标记清理干净，然后执行 "),v("code",[t._v("git commit -am <message>")]),t._v("​ 声明已完成")])]),t._v(" "),v("p",[t._v("很多人看到冲突就慌了（尤其实际场景中，尤其当单个文件冲突量大的时候）。合并冲突，我只用 JB（右键菜单 "),v("strong",[t._v("Git")]),t._v(" → ​"),v("strong",[t._v("Resolve Conflict")]),t._v("​）：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/a9f1fec37daa41ae8249b3b437bcc4edtplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-nyocjiu.awebp",alt:""}}),t._v("​")]),t._v(" "),v("h2",{attrs:{id:"❓-pull-vs-fetch"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-pull-vs-fetch"}},[t._v("#")]),t._v(" ❓ pull vs fetch")]),t._v(" "),v("blockquote",[v("p",[t._v("实在想不通居然有人面试会问这种问题 1。")])]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/1986bfa78d184570bf9dffc14ba21500tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-mye6x1c.awebp",alt:""}}),t._v("​")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("​"),v("code",[t._v("--help")]),t._v("​文档")]),t._v(" "),v("th",[t._v("理解")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("​"),v("code",[t._v("pull")]),t._v("​")]),t._v(" "),v("td",[t._v("Fetch from and integrate with another repository or a local branch")]),t._v(" "),v("td",[t._v("比"),v("code",[t._v("fetch")]),t._v("​要多做一步，就是把下载来的「对象」合并到当前分支")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("fetch")]),t._v("​")]),t._v(" "),v("td",[t._v("Download objects and refs from another repository")]),t._v(" "),v("td",[t._v("仅下载，下载到本地库，注意下载的是「对象」")])])])]),t._v(" "),v("p",[t._v("可以简单理解 "),v("code",[t._v("pull == fetch + merge")]),t._v("​。")]),t._v(" "),v("h2",{attrs:{id:"❓-reset-vs-revert"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-reset-vs-revert"}},[t._v("#")]),t._v(" ❓ reset vs revert")]),t._v(" "),v("blockquote",[v("p",[t._v("实在想不通居然有人面试会问这种问题 2。")])]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/f10c3f8b9eff4fcab4ee9eed78ceed5ftplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-pzvtrcl.awebp",alt:""}}),t._v("​")]),t._v(" "),v("table",[v("thead",[v("tr",[v("th",[t._v("命令")]),t._v(" "),v("th",[t._v("​"),v("code",[t._v("--help")]),t._v("​文档")]),t._v(" "),v("th",[t._v("理解")])])]),t._v(" "),v("tbody",[v("tr",[v("td",[t._v("​"),v("code",[t._v("reset")]),t._v("​")]),t._v(" "),v("td",[t._v("「Reset current HEAD to the specified state」")]),t._v(" "),v("td",[t._v("重置 HEAD 指针")])]),t._v(" "),v("tr",[v("td",[t._v("​"),v("code",[t._v("revert")]),t._v("​")]),t._v(" "),v("td",[t._v("「Revert some existing commits」")]),t._v(" "),v("td",[t._v("撤销到某个 commit 的所有操作，并生成一个新的 commit")])])])]),t._v(" "),v("p",[t._v("下图展示了 "),v("code",[t._v("reset")]),t._v("​ 对 Working Tree 的状态影响：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/b24e71ce020e4255a645eec0c4927e42tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-2dnk4x6.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("由于 "),v("code",[t._v("reset")]),t._v("​ 的作用只是重置了一下 HEAD 指针，对于已经 "),v("code",[t._v("push")]),t._v("​ 了的变更，这个操作是无感知的，并没有产生实际的「回滚」，"),v("code",[t._v("pull")]),t._v("​ 一下又都回来了：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/533ffefbc46e431c80b6d6131c3646c5tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-noo7ghq.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("对某一个或者几个的 Commit 方向做一次它的变更，然后生成新的 Commit，对于未涉及的 Commit 不影响。")]),t._v(" "),v("p",[t._v("注意：不是「回滚到」某个 Commit，而是回滚某个 Commit 的变更。")]),t._v(" "),v("h2",{attrs:{id:"❓-merge-vs-rebase"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-merge-vs-rebase"}},[t._v("#")]),t._v(" ❓ merge vs rebase")]),t._v(" "),v("blockquote",[v("p",[t._v("实在想不通居然有人面试会问这种问题 3。")])]),t._v(" "),v("p",[t._v("除了为写本文做的实验之外，实际场景我用 rebase 的次数一个手就可以数过来...")]),t._v(" "),v("p",[t._v("从下面这张图（采自 GitKraken），可以看出两者的一些区别：")]),t._v(" "),v("ol",[v("li",[t._v("Merge 需要创建一个合并点，即多一条合并的 Commit，Rebase 不会添加 Commit")]),t._v(" "),v("li",[t._v("Merge 不改变时间线，而 Rebase 的当前分支会整体时间线放在被 Rebase 的分支之后（该 Commit 记录的 CommitDate 被修改）")])]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/413f61a00d70403483292bf21e6be3f2tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-ztbvhsn.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("更加抽象但可能更好理解的区别可以看下图，可以看出，Rebase 更像是对变更做 "),v("strong",[t._v("剪切复制")]),t._v(" 操作。")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/8ddd6eda0ca14ff4a8a44a8fa97cae19tplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-h7ag27h.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("有些人认为 Rebase 好，甚至说应该禁止 merge。我却不赞成他们提出的所谓「分支多，难看懂」的原因。说句实在话，有多少人一天到晚去翻历史分支的？我反倒认为多条时间线，在特定的时刻交汇，是很真实的美的体现。")]),t._v(" "),v("p",[t._v("但 Rebase 有更多的使用场景，也更为强大，各种修改历史都需要用到它（在本文中有多处提及）。")]),t._v(" "),v("h2",{attrs:{id:"❓-如何查看远程分支详情"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-如何查看远程分支详情"}},[t._v("#")]),t._v(" ❓ 如何查看远程分支详情？")]),t._v(" "),v("p",[t._v("通过 "),v("code",[t._v("git branch --remote")]),t._v("​ 或其对等命令 "),v("code",[t._v("git branch -r")]),t._v("​ / "),v("code",[t._v("gb --remote")]),t._v("​ / "),v("code",[t._v("gb -r")]),t._v("​ / "),v("code",[t._v("gbr")]),t._v("​，可以看到有哪些远程分支：")]),t._v(" "),v("p",[t._v("​"),v("img",{attrs:{src:"assets/2b19e969c64f49c1b0c711f080b9cc1etplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-8snz3gt.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("这几乎没有什么借鉴意义，尤其是在多人一起维护一个项目的时候。通常，作为项目的主负责人，我希望可以看到有多少远程分支，每个分支是谁在负责，最近提交时间是什么，以判断这些分支的健康程度。")]),t._v(" "),v("p",[t._v("使用以下命令，可以做到：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" for-each-ref refs/remotes "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--sort")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("committerdate "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--format")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%(color:bold)%(committerdate:relative)%09%(color:blue)%(authorname)%(color:cyan)%09%(refname:lstrip=3)"')]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("p",[t._v("​"),v("img",{attrs:{src:"assets/a1aece45887f45c3ba8fe39cd407bf1dtplv-k3u1fbpfcp-jj-mark3024000q75-20240518161318-uhkw6r8.awebp",alt:""}}),t._v("​")]),t._v(" "),v("p",[t._v("可以看到超过好几个月，甚至超过一年的远程分支，基本可以断定烂尾了。")]),t._v(" "),v("p",[t._v("写个 Alias 到 "),v("code",[t._v(".zshrc")]),t._v("​ 方便使用：")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("gbaa")]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git for-each-ref refs/remotes --sort=committerdate --format='),v("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v("%(color:bold)%(committerdate:relative)%09%(color:blue)%(authorname)%(color:cyan)%09%(refname:lstrip=3)"),v("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[t._v('\\"')]),t._v('"')]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("h2",{attrs:{id:"❓-如何批量清理远程-tag"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-如何批量清理远程-tag"}},[t._v("#")]),t._v(" ❓ 如何批量清理远程 Tag？")]),t._v(" "),v("p",[t._v("作为发包爱好者，我曾经凭一己之力把公司的 GitLab 搞卡死了..")]),t._v(" "),v("p",[t._v("事情是这样的，我的项目用 Lerna 做 Monorepo 管理。基于一定的技术考量，我的包切得很碎。"),v("a",{attrs:{href:"https://lerna.js.org/",title:"https://lerna.js.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Lerna"),v("OutboundLink")],1),t._v(" 在 publish 的时候可能由于一个底层的小包而连带发布几十个包。而 Lerna每发一个包就为它创建一个 Tag。即使我不是每次都用 "),v("code",[t._v("lerna publish")]),t._v("​ 全量发布，久而久之，Tag 数目也是可观的。")]),t._v(" "),v("p",[t._v("当 Tag 数到达一定数量级之后，Lerna 在拉取公司 GitLab Tag 列表的时候，由于服务端的问题，导致服务端卡死。")]),t._v(" "),v("p",[t._v("虽然服务端后来修复了这个问题，但我还是养成了时不时清理不必要的远程 Tag 的习惯。")]),t._v(" "),v("p",[t._v("Lerna Tag 跟包名关联，通常是 "),v("code",[t._v("@xx/...@x.y.z")]),t._v("​，跟常规分支有明显的区别，所以这个事情还是比较好处理的。")]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" tag "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-l")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@<namespace>/*"')]),t._v(" "),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("xargs")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push "),v("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--delete")]),t._v(" origin\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("p",[t._v("写到项目 "),v("code",[t._v("package.json")]),t._v("​ 下：")]),t._v(" "),v("div",{staticClass:"language-json line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-json"}},[v("code",[v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  ..."),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ..."),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clean:tag:remote"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git tag -l \\"@xx/*\\" | xargs -n 1 git push --delete origin"')]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),v("span",{pre:!0,attrs:{class:"token property"}},[t._v('"clean:tag:local"')]),v("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),v("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git tag -l \\"@xx/*\\" | xargs -n 1 git tag -d"')]),t._v("\n  "),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br"),v("span",{staticClass:"line-number"},[t._v("5")]),v("br"),v("span",{staticClass:"line-number"},[t._v("6")]),v("br"),v("span",{staticClass:"line-number"},[t._v("7")]),v("br"),v("span",{staticClass:"line-number"},[t._v("8")]),v("br")])]),v("p",[t._v("就可以很简单的使用了。先清理 remote 再清理 local，注意清理完后 "),v("code",[t._v("git pull")]),t._v("​ 一下，因为清理远程 Tag 有失败的几率。")]),t._v(" "),v("h2",{attrs:{id:"❓-如何解决-github-访问慢-甚至无法访问的问题"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#❓-如何解决-github-访问慢-甚至无法访问的问题"}},[t._v("#")]),t._v(" ❓ 如何解决 GitHub 访问慢，甚至无法访问的问题？")]),t._v(" "),v("p",[t._v("国内经常访问不了 GitHub，或者访问速度慢。甚至有的公司也可能禁用 GitHub。")]),t._v(" "),v("h3",{attrs:{id:"方法-1-改-host"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#方法-1-改-host"}},[t._v("#")]),t._v(" 方法 1 - 改 Host")]),t._v(" "),v("p",[t._v("适用场景：")]),t._v(" "),v("ol",[v("li",[t._v("使用 GitHub 的 OAuth 登录的应用，如 VSCode 登录碰到超时连不上的问题")]),t._v(" "),v("li",[t._v("需要访问 github.com")])]),t._v(" "),v("p",[t._v("操作步骤：")]),t._v(" "),v("ol",[v("li",[t._v("在 "),v("a",{attrs:{href:"http://www.ipaddress.com/",title:"http://www.ipaddress.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("www.ipaddress.com"),v("OutboundLink")],1),t._v(" 查询 "),v("code",[t._v("github.com")]),t._v("​ 的 IP，快捷地址 "),v("a",{attrs:{href:"https://sites.ipaddress.com/github.com/",title:"https://sites.ipaddress.com/github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("sites.ipaddress.com/github.com/"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("修改 Host 添加 "),v("code",[t._v("xx.xx.xx.xx github.com")]),t._v("​")]),t._v(" "),v("li",[t._v("重试")])]),t._v(" "),v("p",[t._v("注意，修改 Host 后可能需要刷新 DNS，用完记得还原 Host。")]),t._v(" "),v("h3",{attrs:{id:"方法-2-ghproxy-代理站"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#方法-2-ghproxy-代理站"}},[t._v("#")]),t._v(" 方法 2 - ghproxy 代理站")]),t._v(" "),v("blockquote",[v("p",[t._v("更新 2024/01/24：原 "),v("code",[t._v("ghproxy.com")]),t._v("​ 喜提 GFW，换成 "),v("a",{attrs:{href:"https://mirror.ghproxy.com/",title:"https://mirror.ghproxy.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("mirror.ghproxy.com"),v("OutboundLink")],1),t._v("。")])]),t._v(" "),v("p",[t._v("适用场景：")]),t._v(" "),v("ol",[v("li",[t._v("某些 Cli 的安装脚本中的 "),v("code",[t._v("curl")]),t._v("​ 可能会用它")]),t._v(" "),v("li",[t._v("下载 github 上的某个资源")])]),t._v(" "),v("p",[t._v("操作步骤：")]),t._v(" "),v("ol",[v("li",[t._v("若碰到下载 Github 的资源报错「Failed to connect to ... port 443」")]),t._v(" "),v("li",[t._v("在对应的 URL 前拼上 "),v("code",[t._v("https://mirror.ghproxy.com/")]),t._v("​ 即可")])]),t._v(" "),v("p",[t._v("支持的域名有：")]),t._v(" "),v("ul",[v("li",[t._v("​"),v("code",[t._v("https://mirror.ghproxy.com/https://github.com/...")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("https://mirror.ghproxy.com/https://raw.githubusercontent.com/...")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("https://mirror.ghproxy.com/https://gist.github.com/...")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("code",[t._v("https://mirror.ghproxy.com/https://gist.githubusercontent.com/...")]),t._v("​")])]),t._v(" "),v("p",[t._v("更多用法可以直接访问 "),v("a",{attrs:{href:"https://mirror.ghproxy.com/",title:"https://mirror.ghproxy.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("mirror.ghproxy.com"),v("OutboundLink")],1),t._v("。")]),t._v(" "),v("h3",{attrs:{id:"方法-3-github-镜像站"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#方法-3-github-镜像站"}},[t._v("#")]),t._v(" 方法 3 - GitHub 镜像站")]),t._v(" "),v("p",[t._v("几乎和 Github 一模一样的网站，但常常惨遭封杀。")]),t._v(" "),v("p",[t._v("适用场景：")]),t._v(" "),v("ol",[v("li",[t._v("浏览 github.com 上的内容")]),t._v(" "),v("li",[t._v("Clone 或下载")])]),t._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://kkgithub.com/",title:"https://kkgithub.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("kkgithub.com"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://hub.yzuu.cf/",title:"https://hub.yzuu.cf",target:"_blank",rel:"noopener noreferrer"}},[t._v("hub.yzuu.cf"),v("OutboundLink")],1)]),t._v(" "),v("li",[t._v("​"),v("s",[t._v("​"),v("code",[t._v("https://hub.nuaa.cf")]),t._v("​")]),t._v("​")]),t._v(" "),v("li",[t._v("​"),v("s",[t._v("​"),v("code",[t._v("https://hub.njuu.cf")]),t._v("​")]),t._v("​")])]),t._v(" "),v("h2",{attrs:{id:"📌️-链接"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#📌️-链接"}},[t._v("#")]),t._v(" 📌️ 链接")]),t._v(" "),v("ul",[v("li",[v("a",{attrs:{href:"https://git-scm.com/",title:"https://git-scm.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 官网"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgit-scm.com%2Fbook",title:"https://git-scm.com/book",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git Pro Book"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://www.atlassian.com/git/tutorials/atlassian-git-cheatsheet",title:"https://www.atlassian.com/git/tutorials/atlassian-git-cheatsheet",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git Cheat Sheet"),v("OutboundLink")],1)]),t._v(" "),v("li",[v("a",{attrs:{href:"https://learngitbranching.js.org/",title:"https://learngitbranching.js.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Learn Git Branching"),v("OutboundLink")],1)])]),t._v(" "),v("h2",{attrs:{id:"🪭-写在最后"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🪭-写在最后"}},[t._v("#")]),t._v(" 🪭 写在最后")]),t._v(" "),v("ol",[v("li",[t._v("这篇文章的题目，从原来设想的《我的 Git 使用记录》到《入坑 Git，看这一篇「应该」就够了》到《入坑 Git，看这一篇就够了》，感觉内容越写越多，就大放厥词吧")]),t._v(" "),v("li",[t._v("奉劝强依赖 GUI 的同学：多用命令行，虽然我一直说 GUI 工具是「最好的老师」，但若强依赖好老师，无法出高徒")])])])}),[],!1,null,null,null);v.default=a.exports}}]);